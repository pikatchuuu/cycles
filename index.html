<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kat Bikes in Mass (and nerds out on it)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 12px;
            padding: 30px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #6c757d;
            font-weight: 300;
        }

        .description {
            font-size: 1.1rem;
            color: #495057;
            margin-bottom: 30px;
            text-align: center;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* CRITICAL: Let Datawrapper control the height naturally */
        .map-container {
            width: 100%;
            /* DO NOT set height, min-height, or max-height */
            margin: 30px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* DO NOT override iframe height - let JavaScript handle it */
        .map-container iframe {
            width: 100% !important;
            border: none;
            /* DO NOT set height here */
        }

        /* Mobile responsive - only adjust padding/margins, not heights */
        @media screen and (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .subtitle {
                font-size: 1rem;
            }
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            color: #6c757d;
            font-size: 0.9rem;
        }

	.stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            min-width: 120px;
        }

        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #007bff;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Cycling is fun</h1>
            <div class="subtitle"> I spent way too much time making this happen, and forgot about the powers of generative AI for a hot sec, but again, this is fun! </div>
        </header>

        <div class="description">
            This choropleth map visualizes how frequently I've cycled through each Massachusetts municipality. Darker colors indicate municipalities I've visited more often during my rides. For routes I've done waaaay too many times, I only include one instance.
        </div>

	<div class="stats">
            <div class="stat">
                <div class="stat-number">351</div>
                <div class="stat-label">Total Municipalities</div>
            </div>
            <div class="stat">
                <div class="stat-number">98</div>
                <div class="stat-label">Visited</div>
            </div>
            <div class="stat">
                <div class="stat-number">42</div>
                <div class="stat-label">GPX Files Analyzed</div>
            </div>
        </div>

        <div class="map-container">
            
			<iframe title="Kat's MA Cycling Adventures" aria-label="Choropleth map" id="datawrapper-chart-WIDls" src="https://datawrapper.dwcdn.net/WIDls/9/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="483" data-external="1">
			</iframe>
			
			<script type="text/javascript">!function(){"use strict";window.addEventListener("message",function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r,i=0;r=e[i];i++)if(r.contentWindow===a.source){var d=a.data["datawrapper-height"][t]+"px";r.style.height=d}}})}();
			</script>
            
        </div>

        <footer>
            <p>Data visualization created with Datawrapper | GPX data processed with Python & GeoPandas</p>
        </footer>
    </div>
</body>
</html>

